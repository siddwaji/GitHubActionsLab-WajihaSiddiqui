name: Environment Variables and Secrets Workflow

on:
  workflow_dispatch:

env:
  AWS_REGION: us-east-1
  ENVIRONMENT: production

jobs:
  deploy-to-aws:
    name: Deploy to AWS
    runs-on: ubuntu-latest
    env:
      DEPLOYMENT_NAME: MyAppDeployment-v1.0
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
      
      - name: Print workflow-level environment variables
        run: |
          echo "AWS Region: ${{ env.AWS_REGION }}"
          echo "Environment: ${{ env.ENVIRONMENT }}"
      
      - name: Print job-level environment variable
        run: echo "Deployment Name: ${{ env.DEPLOYMENT_NAME }}"
      
      - name: Access AWS credentials from secrets
        run: |
          echo "AWS Access Key ID: ${{ secrets.AWS_ACCESS_KEY_ID }}"
          echo "AWS Secret Access Key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}"
      
      - name: Use step-level environment variable
        env:
          STEP_VARIABLE: "Step-specific value"
        run: |
          echo "Step Variable: $STEP_VARIABLE"
          echo "This variable only exists in this step"
      
      - name: Demonstrate variable scope
        run: |
          echo "Workflow variables are accessible here:"
          echo "Region: ${{ env.AWS_REGION }}"
          echo "Job variables are accessible here:"
          echo "Deployment: ${{ env.DEPLOYMENT_NAME }}"
